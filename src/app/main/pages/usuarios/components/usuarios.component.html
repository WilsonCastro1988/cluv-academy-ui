<form [formGroup]="form">
    <div class="grid formgrid p-fluid">

        <div class="p-field col-6 md:col-4 md:mb-4 mb-0 px-3 flex justify-content-center align-items-center">

            <div class="avatar-upload">
                <div class="avatar-edit">
                    <input type='file' id="imageUpload" accept=".png, .jpg, .jpeg"
                           (change)="onFileSelected($event)"/>
                    <label for="imageUpload"></label>
                </div>
                <div class="avatar-preview">
                    <img id="imagePreview" [src]="imgURL" alt="diamond-layout" alt="Avatar Perfil"
                         class="w-full h-full border-circle shadow-4">
                </div>
            </div>

        </div>


        <div class="p-field col-6 md:col-8 md:mb-4 mb-0 px-3 align-items-center grid">
            <div class="field mb-4 col-12"><label for="nickname" class="font-medium text-900">Username</label>
                <input id="nickname" formControlName="nombreUsuario" type="text" pinputtext=""
                       class="p-inputtext p-component p-element">
            </div>

            <div class="field mb-4 col-12"><label for="nombres" class="font-medium text-900">Nombres</label>
                <input id="nombres" formControlName="nombres" type="text" pinputtext=""
                       class="p-inputtext p-component p-element">
            </div>

            <div class="field mb-4 col-12"><label for="cedula"
                                                           class="font-medium text-900">DNI</label><input
                id="cedula" type="text" formControlName="cedula" pinputtext=""
                class="p-inputtext p-component p-element"></div>

            <div class="field mb-4 col-12"><label for="cedula"
                                                  class="font-medium text-900">Clave</label>
                <p-password  formControlName="clave" [toggleMask]="true" ></p-password>
            </div>


            <div class="p-field col-12 md:col-6 md:mb-4 mb-0 px-3">
                <label for="ftxt-activo" style="color: rgba(0, 0, 0, 0.6);">* Estado</label>
                <span class="p-float-label">
                                <p-inputSwitch id="ftxt-activo"
                                               formControlName="activo"></p-inputSwitch>
                </span>
            </div>

        </div>


        <div class="field mb-4 col-12 md:col-6"><label for="emailPersonal"
                                              class="font-medium text-900">Email</label><input
            id="emailPersonal"
            formControlName="emailPersonal"
            type="text"
            pinputtext=""
            class="p-inputtext p-component p-element">
        </div>

        <div class="field mb-4 col-12 md:col-6"><label for="zonaHoraria"
                                              class="font-medium text-900">Zona Horaria</label><input
            id="zonaHoraria"
            formControlName="zonaHoraria"
            type="text"
            pinputtext=""
            class="p-inputtext p-component p-element">
        </div>


        <div class="field mb-4 col-12 md:col-6"><label for="direccion"
                                                       class="font-medium text-900">Dirección</label><input
            id="direccion" formControlName="direccion" type="text" pinputtext=""
            class="p-inputtext p-component p-element"></div>

        <div class="field mb-4 col-12 md:col-6"><label for="telefono"
                                                       class="font-medium text-900">Teléfono</label><input
            id="telefono"
            formControlName="telefono"
            type="text"
            pinputtext=""
            class="p-inputtext p-component p-element">
        </div>

        <div class="field mb-4 col-12 md:col-6"><label for="emailInstitucional"
                                                       class="font-medium text-900">Email
            Academy</label><input
            id="emailInstitucional"
            formControlName="emailInstitucional"
            type="text"
            pinputtext=""
            class="p-inputtext p-component p-element">
        </div>

        <div class="field mb-4 col-12 md:col-6"><label for="celular"
                                                       class="font-medium text-900">Celular</label><input
            id="celular"
            formControlName="celular"
            type="text"
            pinputtext=""
            class="p-inputtext p-component p-element">
        </div>

        <div class="p-field col-12 md:col-6 md:mb-4 mb-0 px-3 ">
                              <span class="p-float-label">
                    <p-dropdown [options]="listPerfiles"
                                [(ngModel)]="perfil"
                                [ngModelOptions]="{standalone: true}"
                                placeholder="Por favor seleccione"
                                id="ftxt-idPerfilDto"
                                [filter]="true"
                                filterBy="nombre"
                                optionLabel="nombre"
                                appendTo="body"
                                [showClear]="true"></p-dropdown>
                                   <label for="ftxt-idPerfilDto">* Perfiles </label>
                             </span>
        </div>




        <div class="col-12">
            <button pButton pRipple type="button" icon="pi pi-send"
                    [pTooltip]="'Guardar'"
                    tooltipPosition="top"
                    (click)="guardar()"
                    [label]="'Guardar'"
                    [class]="'p-button-rounded p-button-info m-5 w-auto'"></button>

            <button pButton pRipple type="button" icon="pi pi-times" (click)="cancelar()"
                    pTooltip="Cancelar"
                    label="Cancelar"
                    tooltipPosition="top"
                    class="p-button-rounded p-button-danger m-5 w-auto"></button>
        </div>
    </div>
</form>


<p-divider></p-divider>

<app-shared-table
    [list]="listUsuario"
    [selectedList]="listSelectUsuario"
    [columnsHeader]="columnsHeader"
    [globalRowFilters]="filterFields"
    [exportColumns]="exportColumns"
    [rows]="10"
    [headerTableType]="0"
    [rowsPerPageOptions]="rowsPerPageOptions"
    [responsiveLayout]="'stack'"
    [titleTable]="'LISTADO Usuarios'"
    [dataKey]="'idUsuario'"
    [filters]="true"
    [sorts]="true"
    [expExcel]="true"
    [expPdf]="false"
    [opciones]="true"
    [btnEdit]="true"
    [btnDelete]="false"
    [chekList]="false"
    [paginator]="true"
    [loading]="loading"
    [autoLayout]="true"
    [btnMagic]="false"
    [toolTipBtnMagic]="''"
    [iconBtnMagic]="''"
    [disabledBtnMagicByFieldValue]="''"
    [disabledBtnMagicByFieldName]="''"
    [classBtnMagic]="''"
    (emitSelectedDto)="editItem($event)"
></app-shared-table>

<!-- inicio seccion generica -->
<p-confirmDialog [style]="{width: '450px'}"></p-confirmDialog>
<p-blockUI [blocked]="blockingui">
    <p-progressSpinner styleClass="w-4rem h-4rem bluegray-600" strokeWidth="8" animationDuration=".5s">
    </p-progressSpinner>
</p-blockUI>
<!-- fin seccion generica -->
